<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GreenTrack • Dashboard</title>

  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css" />

  <!-- Chart.js v4.5.0  --> <!-- Latest (Apr 2025) :contentReference[oaicite:1]{index=1} -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.5.0/dist/chart.umd.min.js"></script>

  <!-- Firebase & App -->
  <script type="module" src="js/firebase-config.js"></script>
  <script type="module" src="js/data.js"></script>
  <script type="module" src="js/charts.js"></script>
  <script type="module" src="js/app.js" defer></script>
</head>
<body class="light">

  <!-- ========= Top‑bar ========= -->
  <header class="topbar glass">
    <h1>GreenTrack 📊</h1>
    <div class="spacer"></div>
    <button id="themeToggle">🌙/☀️</button>
    <img id="avatar" class="avatar" />
  </header>

  <!-- ========= Main Layout ========= -->
  <div class="grid">

    <!-- ------- INPUT PANEL (left) ------- -->
    <aside class="card">
      <h2>Input Activities</h2>

      <section>
        <h3>Transportation</h3>
        <select id="transportMode">
          <option value="car">Car (km)</option>
          <option value="bus">Bus (km)</option>
          <option value="flight">Flight (km)</option>
        </select>
        <input type="number" id="transportVal" min="0" placeholder="Distance" />
      </section>

      <section>
        <h3>Energy</h3>
        <input type="number" id="electricity" placeholder="kWh / month" />
        <input type="number" id="water" placeholder="L of water / day" />
      </section>

      <section>
        <h3>Food</h3>
        <select id="diet">
          <option value="veg">Vegetarian</option>
          <option value="mixed">Mixed</option>
          <option value="highMeat">High‑meat</option>
        </select>
        <input type="number" id="waste" placeholder="Food waste (kg/week)" />
      </section>

      <section>
        <h3>Home & Appliances</h3>
        <input type="number" id="homeSize" placeholder="Area m²" />
        <input type="number" id="appliances" placeholder="# major appliances" />
      </section>

      <section>
        <h3>Travel Frequency</h3>
        <input type="number" id="trips" placeholder="Flights per year" />
      </section>

      <button id="saveActivity" class="btn wide">💾 Save Activity</button>
      <p id="saveMsg"></p>
    </aside>

    <!-- ------- DASHBOARD (right) ------- -->
    <main class="card">

      <!-- Eco Score & CO₂ Saved  -->
      <div class="score-wrap">
        <h2>Eco‑Score: <span id="ecoScore">–</span></h2>
        <p>CO₂ Saved: <span id="co2Saved">0</span> kg</p>
        <progress id="goalProgress" value="0" max="100"></progress>
      </div>

      <!-- STATS GRID  -->
      <div class="stats-grid">
        <div class="stat-box">Transport <br><span id="tEmit">0</span> kg</div>
        <div class="stat-box">Energy <br><span id="eEmit">0</span> kg</div>
        <div class="stat-box">Food <br><span id="fEmit">0</span> kg</div>
        <div class="stat-box">Total <br><span id="totalEmit">0</span> kg</div>
      </div>

      <!-- CHARTS -->
      <canvas id="historyChart" height="180"></canvas>
      <canvas id="breakdownChart" height="180"></canvas>

      <!-- TIPS & CHALLENGES -->
      <section class="tips">
        <h3>Personalised Tips</h3>
        <ul id="tipsList"></ul>
      </section>
    </main>

  </div>

</body>
</html>
